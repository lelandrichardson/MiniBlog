"use strict";(function(n){var t=function(){var r=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g,f=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,u=/[^-+\dA-Z]/g,i=function(n,t){n=String(n),t=t||2;while(n.length<t)n="0"+n;return n};return function(e,o,s){var l=t;arguments.length!=1||Object.prototype.toString.call(e)!="[object String]"||/\d/.test(e)||(o=e,e=undefined),e=e?new n(e):new n;if(isNaN(e))throw SyntaxError("invalid date");o=String(l.masks[o]||o||l.masks["default"]),o.slice(0,4)=="UTC:"&&(o=o.slice(4),s=!0);var h=s?"getUTC":"get",a=e[h+"Date"](),w=e[h+"Day"](),y=e[h+"Month"](),k=e[h+"FullYear"](),c=e[h+"Hours"](),d=e[h+"Minutes"](),g=e[h+"Seconds"](),v=e[h+"Milliseconds"](),p=s?0:e.getTimezoneOffset(),b={d:a,dd:i(a),ddd:l.i18n.dayNames[w],dddd:l.i18n.dayNames[w+7],m:y+1,mm:i(y+1),mmm:l.i18n.monthNames[y],mmmm:l.i18n.monthNames[y+12],yy:String(k).slice(2),yyyy:k,h:c%12||12,hh:i(c%12||12),H:c,HH:i(c),M:d,MM:i(d),s:g,ss:i(g),l:i(v,3),L:i(v>99?Math.round(v/10):v),t:c<12?"a":"p",tt:c<12?"am":"pm",T:c<12?"A":"P",TT:c<12?"AM":"PM",Z:s?"UTC":(String(e).match(f)||[""]).pop().replace(u,""),o:(p>0?"-":"+")+i(Math.floor(Math.abs(p)/60)*100+Math.abs(p)%60,4),S:["th","st","nd","rd"][a%10>3?0:(a%100-a%10!=10)*a%10]};return o.replace(r,function(n){return n in b?b[n]:n.slice(1,n.length-1)})}}();t.masks={"default":"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"},t.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"]},n.prototype.format=function(n,i){return t(this,n,i)}})(Date),function(n){n.prototype.toISOString||(n.prototype.toISOString=function(){function n(n){return n<10?"0"+n:n}return this.getUTCFullYear()+"-"+n(this.getUTCMonth()+1)+"-"+n(this.getUTCDate())+"T"+n(this.getUTCHours())+":"+n(this.getUTCMinutes())+":"+n(this.getUTCSeconds())+"Z"})}(Date),function(n){var t=n.parse,i=[1,4,5,6,7,10,11];n.parse=function(r){var s,u,f=0,o,e;if(u=/^(\d{4}|[+\-]\d{6})(?:-(\d{2})(?:-(\d{2}))?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(?:\.(\d{3}))?)?(?:(Z)|([+\-])(\d{2})(?::(\d{2}))?)?)?$/.exec(r)){for(o=0;e=i[o];++o)u[e]=+u[e]||0;u[2]=(+u[2]||1)-1,u[3]=+u[3]||1,u[8]!=="Z"&&u[9]!=="undefined"&&(f=u[10]*60+u[11],u[9]==="+"&&(f=0-f)),s=n.UTC(u[1],u[2],u[3],u[4],u[5]+f,u[6],u[7])}else s=t?t(r):NaN;return s}}(Date),function(n,t){n.extenders.isoDate=function(t,i){return t.formatted=n.computed({read:function(){if(!t())return;var n=new Date(Date.parse(t()));return n.format(i,!0)},write:function(n){n&&t(new Date(Date.parse(n)).toISOString())}}),t.formatted(t()),t},t.fn.flash=function(n,t){var u=n||"#FFFF9C",r=t||1500,i=this.css("backgroundColor");this.stop().css("background-color",u).animate({backgroundColor:i},r)},n.bindingHandlers.stopBinding={init:function(){return{controlsDescendantBindings:!0}}},n.virtualElements.allowedBindings.stopBinding=!0,n.bindingHandlers.flash={update:function(i,r){n.utils.unwrapObservable(r()),t(i).flash("#f18d00",1500)}},n.dirtyFlag=function(t,i){var r=function(){},f=n.observable(n.toJSON(t)),u=n.observable(i);return r.isDirty=n.dependentObservable(function(){return u()||f()!==n.toJSON(t)}),r.reset=function(){f(n.toJSON(t)),u(!1)},r},n.numericObservable=function(t){var i=n.observable(t);return n.dependentObservable({read:function(){return i()},write:function(n){var t=parseFloat(n);i(isNaN(t)?n:t)}})},n.bindingHandlers.sortableList={init:function(i,r){var u=r();t(i).sortable({update:function(t,i){var f=i.item.tmplItem().data,r=n.utils.arrayIndexOf(i.item.parent().children(),i.item[0]);r<0||(u.remove(f),u.splice(r,0,f)),i.item.remove()}})}}}(ko,jQuery)